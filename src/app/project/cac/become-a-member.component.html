<!-- only show when submitting larger submissions -->
<div class="modal-content progress-content" *ngIf="submitting && (totalSize > 100000)">
  <div class="modal-body">
    <h4 class="modal-title">Submitting your comment...</h4>
    <mat-progress-bar color="primary" mode="buffer" [value]="progressValue" [bufferValue]="progressBufferValue"></mat-progress-bar>
  </div>
</div>

<!-- FIRST PAGE -->
<form #preCommentForm="ngForm">
  <div class="modal-content" *ngIf="this.currentPage === 1">
    <div class="modal-header">
      <h4 class="modal-title">Community Advisory Committee</h4>
      <button class="btn btn-icon close-btn gtm-submit-comment_cancel-pg1" type="button" aria-label="Close" (click)="activeModal.dismiss('dismissed page1')">
        <i class="material-icons">
          close
        </i>
      </button>
    </div>

    <div class="modal-body">
      <section>
        <h3>What is a Community Advisory Committee?</h3>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec pellentesque sodales finibus. Duis pellentesque et purus a bibendum. Etiam porttitor scelerisque nunc, in finibus metus porta nec. Curabitur feugiat tincidunt libero non mattis. In lacus diam, feugiat eu aliquam et, malesuada quis augue.</p>
      </section>
      <section class="m-b-0">
        <h3>What can I expect as a Community Advisory Committee Member?</h3>
        <p>Proin eget neque eros. Nam vitae metus a neque varius blandit. Proin iaculis nisi consequat gravida semper. Aliquam erat volutpat. Nulla pretium commodo ornare. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Nam tempus nisi neque, quis malesuada augue pharetra dignissim</p>
      </section>
      <section>
        <h3>What can I expect as a Community Advisory Committee Member?</h3>
        <p>Vivamus non ante maximus, ornare dui vel, commodo turpis. Maecenas posuere vel massa a finibus. Quisque elit lorem, rhoncus vitae bibendum ac, pulvinar id dolor.</p>
      </section>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" (click)="p1_next()">Become a Member</button>
    </div>
  </div>
</form>

<!-- Contact Information Form-->
<form #commentForm1="ngForm">
  <div class="modal-content" *ngIf="this.currentPage === 2">
    <div class="modal-header">
      <h4 class="modal-title">Community Advisory Committee</h4>
      <button class="btn btn-icon close-btn gtm-submit-comment-cancel-pg2" type="button" aria-label="Close" (click)="activeModal.dismiss('dismissed page2')">
        <i class="material-icons">
          close
        </i>
      </button>
    </div>
    <div class="modal-body">
      <fieldset>
          <h5 class="modal-title">Member Sign-up</h5>
          <div class="form-group row">
            <div class="form-group">
              <label class="control-label">Full Name *</label>
              <div class="form-control-container">
                <input required class="form-control" type="text" name="nameInput" id="nameInput" [(ngModel)]="contactName" autofocus />
              </div>
            </div>
            <div class="form-group">
              <label class="control-label">Email Address *</label>
              <div class="form-control-container">
                <input required class="form-control" type="text" name="emailInput" id="emailInput" [(ngModel)]="email" autofocus />
              </div>
            </div>
            <div class="form-group">
              <label class="control-label">Confirm Email Address *</label>
              <div class="form-control-container">
                <input required class="form-control" type="text" name="emailConfirmInput" id="emailConfirmInput" [(ngModel)]="emailConfirm" autofocus />
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="control-label" >A brief explanation of your interest in this project</label>
            <textarea class="form-control" rows="8" name="commentInput" id="commentInput" [(ngModel)]="commentInput" autofocus></textarea>
          </div>

          <div class="form-group">
            <label class="control-label">I understand that...</label>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec pellentesque sodales finibus. Duis pellentesque et purus a bibendum. Etiam porttitor scelerisque nunc, in finibus metus porta nec. Curabitur feugiat tincidunt libero non mattis. In lacus diam, feugiat eu aliquam et, malesuada quis augue.</p>
            <div class="form-control-container">
              <label class="control-label" >
              <input required type="checkbox" aria-label="Checkbox for row item" name="acknowledged" [(ngModel)]='acknowledged'>
                By checking this box, I acklowedge that I understand the above text.
              </label>
            </div>
          </div>
      </fieldset>
    </div>
    <div class="modal-footer">
      <!-- enable submission when required fields are entered and when either a file or comment is entered -->
      <button class="btn btn-primary" type="button" (click)="p2_next()" [disabled]="!commentForm1.form.valid || (!commentInput)">Complete Submission</button>
    </div>
  </div>
</form>

<!-- Success -->
<div class="modal-content thank-you-content" *ngIf="this.currentPage === 3">
  <div class="modal-header">
    <button class="btn btn-icon close-btn gtm-submit-comment-cancel-pg3" type="button" aria-label="Close" (click)="activeModal.dismiss('dismissed page3')">
      <i class="material-icons">
        close
      </i>
    </button>
  </div>
  <div class="modal-body">
    <div class="thank-you-icon"></div>
    <h4>Thank you for becoming a Community Advisory Committee Member</h4>
    <p>You are now a member of this group!</p>
    <p>We will be communicating with members of the Community Advisory Committee over the review stages of this project.  We will send out emails to members of this group at various key points through the review.</p>
    <p>Please add <a href="mailto:{{project.cacEmail}}">{{project.cacEmail}}</a> to your contacts to ensure that our emails go to your inbox and are not filtered to your Spam folder.</p>
    <button class="btn btn-primary gtm-submit-comment-done" type="button" (click)="activeModal.close('closed page4')">Back to Project Page</button>
  </div>
</div>
